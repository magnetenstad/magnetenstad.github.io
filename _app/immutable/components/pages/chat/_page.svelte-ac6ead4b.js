import{S as Y,i as Z,s as tt,l as E,a as M,m as A,p as C,h as y,c as P,q as k,b as $,H as w,f as D,g as at,d as lt,t as V,R as F,o as ct,e as N,x as et,y as it,z as st,A as nt,u as B,v as W,w as H,K as G,n as ht}from"../../../chunks/index-1d50e03e.js";import{B as ut}from"../../../chunks/Button-ba8f1540.js";class j{constructor(t,e){this.incoming=t,this.text=e}}function U(o,t,e){const i=o.slice();return i[9]=t[e],i[11]=e,i}function z(o,t,e){const i=o.slice();return i[12]=t[e],i[11]=e,i}function ft(o){let t,e,i=o[12].text+"",s;return{c(){t=E("div"),e=E("p"),s=B(i),this.h()},l(a){t=A(a,"DIV",{class:!0});var l=C(t);e=A(l,"P",{class:!0});var r=C(e);s=W(r,i),r.forEach(y),l.forEach(y),this.h()},h(){k(e,"class","user svelte-1g2r8vd"),k(t,"class","message message-right svelte-1g2r8vd")},m(a,l){$(a,t,l),w(t,e),w(e,s)},p(a,l){l&2&&i!==(i=a[12].text+"")&&H(s,i)},d(a){a&&y(t)}}}function mt(o){var g;let t,e,i=o[12].text+"",s,a,l,r=!((g=o[1][o[11]+1])!=null&&g.incoming)&&R(o);return{c(){t=E("div"),e=E("p"),s=B(i),a=M(),r&&r.c(),l=N(),this.h()},l(n){t=A(n,"DIV",{class:!0});var m=C(t);e=A(m,"P",{class:!0});var v=C(e);s=W(v,i),v.forEach(y),m.forEach(y),a=P(n),r&&r.l(n),l=N(),this.h()},h(){k(e,"class","svelte-1g2r8vd"),k(t,"class","message message-left svelte-1g2r8vd")},m(n,m){$(n,t,m),w(t,e),w(e,s),$(n,a,m),r&&r.m(n,m),$(n,l,m)},p(n,m){var v;m&2&&i!==(i=n[12].text+"")&&H(s,i),(v=n[1][n[11]+1])!=null&&v.incoming?r&&(r.d(1),r=null):r?r.p(n,m):(r=R(n),r.c(),r.m(l.parentNode,l))},d(n){n&&y(t),n&&y(a),r&&r.d(n),n&&y(l)}}}function R(o){let t,e;return{c(){t=E("img"),this.h()},l(i){t=A(i,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){k(t,"class","message-img svelte-1g2r8vd"),G(t.src,e=o[0])||k(t,"src",e),k(t,"alt","")},m(i,s){$(i,t,s)},p(i,s){s&1&&!G(t.src,e=i[0])&&k(t,"src",e)},d(i){i&&y(t)}}}function Q(o){let t;function e(a,l){return a[12].incoming?mt:ft}let i=e(o),s=i(o);return{c(){s.c(),t=N()},l(a){s.l(a),t=N()},m(a,l){s.m(a,l),$(a,t,l)},p(a,l){i===(i=e(a))&&s?s.p(a,l):(s.d(1),s=i(a),s&&(s.c(),s.m(t.parentNode,t)))},d(a){s.d(a),a&&y(t)}}}function gt(o){let t=o[9]+"",e,i;return{c(){e=B(t),i=M()},l(s){e=W(s,t),i=P(s)},m(s,a){$(s,e,a),$(s,i,a)},p(s,a){a&4&&t!==(t=s[9]+"")&&H(e,t)},d(s){s&&y(e),s&&y(i)}}}function X(o){let t,e;function i(){return o[5](o[11])}return t=new ut({props:{onClick:i,style:"border: 2px solid white; font-weight: bold;",$$slots:{default:[gt]},$$scope:{ctx:o}}}),{c(){et(t.$$.fragment)},l(s){it(t.$$.fragment,s)},m(s,a){st(t,s,a),e=!0},p(s,a){o=s;const l={};a&16388&&(l.$$scope={dirty:a,ctx:o}),t.$set(l)},i(s){e||(D(t.$$.fragment,s),e=!0)},o(s){V(t.$$.fragment,s),e=!1},d(s){nt(t,s)}}}function dt(o){let t,e,i,s,a,l,r,g,n,m,v=o[1],u=[];for(let h=0;h<v.length;h+=1)u[h]=Q(z(o,v,h));let x=o[2],f=[];for(let h=0;h<x.length;h+=1)f[h]=X(U(o,x,h));const I=h=>V(f[h],1,1,()=>{f[h]=null});return{c(){t=E("div"),e=E("div"),i=E("div"),s=M(),a=E("div");for(let h=0;h<u.length;h+=1)u[h].c();l=M(),r=E("div"),g=M(),n=E("div");for(let h=0;h<f.length;h+=1)f[h].c();this.h()},l(h){t=A(h,"DIV",{class:!0});var d=C(t);e=A(d,"DIV",{class:!0});var c=C(e);i=A(c,"DIV",{class:!0}),C(i).forEach(y),s=P(c),a=A(c,"DIV",{class:!0});var b=C(a);for(let T=0;T<u.length;T+=1)u[T].l(b);l=P(b),r=A(b,"DIV",{id:!0,class:!0}),C(r).forEach(y),b.forEach(y),c.forEach(y),g=P(d),n=A(d,"DIV",{class:!0});var K=C(n);for(let T=0;T<f.length;T+=1)f[T].l(K);K.forEach(y),d.forEach(y),this.h()},h(){k(i,"class","scroll-padding-top svelte-1g2r8vd"),k(r,"id","bottom"),k(r,"class","svelte-1g2r8vd"),k(a,"class","messages-wrapper svelte-1g2r8vd"),k(e,"class","scroll-wrapper svelte-1g2r8vd"),k(n,"class","choices-wrapper svelte-1g2r8vd"),k(t,"class","window svelte-1g2r8vd")},m(h,d){$(h,t,d),w(t,e),w(e,i),w(e,s),w(e,a);for(let c=0;c<u.length;c+=1)u[c].m(a,null);w(a,l),w(a,r),w(t,g),w(t,n);for(let c=0;c<f.length;c+=1)f[c].m(n,null);m=!0},p(h,[d]){if(d&3){v=h[1];let c;for(c=0;c<v.length;c+=1){const b=z(h,v,c);u[c]?u[c].p(b,d):(u[c]=Q(b),u[c].c(),u[c].m(a,l))}for(;c<u.length;c+=1)u[c].d(1);u.length=v.length}if(d&12){x=h[2];let c;for(c=0;c<x.length;c+=1){const b=U(h,x,c);f[c]?(f[c].p(b,d),D(f[c],1)):(f[c]=X(b),f[c].c(),D(f[c],1),f[c].m(n,null))}for(at(),c=x.length;c<f.length;c+=1)I(c);lt()}},i(h){if(!m){for(let d=0;d<x.length;d+=1)D(f[d]);m=!0}},o(h){f=f.filter(Boolean);for(let d=0;d<f.length;d+=1)V(f[d]);m=!1},d(h){h&&y(t),F(u,h),F(f,h)}}}function pt(o,t,e){let{imgSrc:i}=t,{prat:s}=t,a=[],l=[];const r=u=>{e(1,a=[...a,u])},g=()=>{for(e(2,l=s.getChoiceTexts());l.length===0;)s.input(),r(new j(!0,s.getText())),e(2,l=s.getChoiceTexts())},n=()=>setTimeout(()=>document.getElementById("bottom").scrollIntoView({block:"end",behavior:"smooth"}),100),m=u=>{s.input(u),r(new j(!1,s.getText())),g(),n()};r(new j(!0,s.getText())),g(),ct(()=>{n()});const v=u=>m(`${u}`);return o.$$set=u=>{"imgSrc"in u&&e(0,i=u.imgSrc),"prat"in u&&e(4,s=u.prat)},[i,a,l,m,s,v]}class vt extends Y{constructor(t){super(),Z(this,t,pt,dt,tt,{imgSrc:0,prat:4})}}var rt={},J={},L={};Object.defineProperty(L,"__esModule",{value:!0});L.TalkSymbol=void 0;class S{}L.TalkSymbol=S;S.key="#";S.author="@";S.goto=">";S.condition="?";S.action="!";S.prepare="!!";S.comment="%";S.inherit="+";S.insert="$";S.left="{";S.right="}";var ot={};(function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.isEmpty=o.extractKey=o.extractAttribute=o.extract=o.prefixCount=void 0;const t=L,e=(r,g)=>{let n=0;for(;r[n]==g;)n+=1;return n};o.prefixCount=e;const i=(r,g,n,m)=>{if(!r.includes(g)&&r.includes(n))return{extraction:"",rest:r};let v=r.indexOf(g)+g.length,u=-1,x=0;for(let I=v;I<r.length;I++){const h=r.substring(I);if(!x&&h.startsWith(n)){u=I;break}x+=h.startsWith(t.TalkSymbol.left)?1:0,x-=h.startsWith(t.TalkSymbol.right)?1:0}if(u===-1)return{extraction:"",rest:r};const f=r.substring(v,u);return{extraction:f,rest:r.replace(g+f+n,m?m(f):"")}};o.extract=i;const s=(r,g)=>(0,o.extract)(r,g+t.TalkSymbol.left,t.TalkSymbol.right);o.extractAttribute=s;const a=r=>(0,o.extractAttribute)(r,t.TalkSymbol.key).extraction;o.extractKey=a;const l=r=>r==null||r.trim()==="";o.isEmpty=l})(ot);Object.defineProperty(J,"__esModule",{value:!0});J.Talk=void 0;const _=L,p=ot;class yt{constructor(t,e,i,s,a,l,r,g,n,m){this.context={},this.key=t,this.text=e,this.author=i,this.goto=s,this.choices=a,this.condition=l,this.initAction=r,this.action=g,this.inherit=n,this.comment=m}getChoices(t){return[...t.lines.values()].filter(e=>this.choices.includes(e.key))}getText(t){let e=this.text;const i=_.TalkSymbol.insert+_.TalkSymbol.left;for(;e.includes(i);)e=(0,p.extract)(e,i,_.TalkSymbol.right,s=>t.evalJavascript(s,this)).rest;return e}apply(t){!t||(this.text||(this.text=t.text),this.author||(this.author=t.author),this.goto||(this.goto=t.goto),this.choices||(this.choices=t.choices),this.condition||(this.condition=t.condition),this.initAction||(this.initAction=t.initAction),this.action||(this.action=t.action),this.inherit||(this.inherit=t.inherit),this.comment||(this.comment=t.comment))}}class q{constructor(t,e){this.key="",this.context={global:{},local:{}},this.lines=t,this.lines.forEach(i=>{i.inherit&&i.apply(this.lines.get(i.inherit)),i.initAction&&this.evalJavascript(i.initAction,i)}),this.setKey(e)}static fromString(t){t=t.replace(`\\
	`,`\\
`),t=t.replace(`\\
`,"");const e=t.split(`
`).filter(l=>!(0,p.isEmpty)(l));e.forEach((l,r)=>{if((0,p.isEmpty)((0,p.extractKey)(l))){const g=_.TalkSymbol.key+_.TalkSymbol.left+_.TalkSymbol.key+r+_.TalkSymbol.right;e[r]=l+g}});const i=new Map;let s="";return e.forEach((l,r)=>{const g=[];let n;n=(0,p.extractAttribute)(l,_.TalkSymbol.goto);let m=n.extraction;if((0,p.isEmpty)(m)){const b=(0,p.prefixCount)(l,"	");if(b%2==0){let K=b;for(let T=r+1;T<e.length;T++){const O=(0,p.prefixCount)(e[T],"	");if(K=Math.min(O,K),O<=K){if(g.length>0)break;if(O%2==0){m=(0,p.extractKey)(e[T]);break}}O==b+1&&b==K&&g.push((0,p.extractKey)(e[T]))}}else r+1<e.length&&(m=(0,p.extractKey)(e[r+1]))}n=(0,p.extractAttribute)(n.rest,_.TalkSymbol.key);const v=n.extraction;n=(0,p.extractAttribute)(n.rest,_.TalkSymbol.author);const u=(0,p.isEmpty)(n.extraction)?s:n.extraction;n=(0,p.extractAttribute)(n.rest,_.TalkSymbol.condition);const x=n.extraction;n=(0,p.extractAttribute)(n.rest,_.TalkSymbol.prepare);const f=n.extraction;n=(0,p.extractAttribute)(n.rest,_.TalkSymbol.action);const I=n.extraction;n=(0,p.extractAttribute)(n.rest,_.TalkSymbol.inherit);const h=n.extraction;n=(0,p.extractAttribute)(n.rest,_.TalkSymbol.comment);const d=n.extraction,c=new yt(v,n.rest.trim(),u,m,g,x,f,I,h,d);i.set(v,c),s=u}),new q(i,(0,p.extractKey)(e[0]))}getLine(){let t=this.lines.get(this.key);if(t==null)throw new Error(`Invalid key <${this.key}>.`);return t}getText(){return this.getLine().getText(this)}getChoiceTexts(){return this.getLine().getChoices(this).map(t=>t.getText(this))}getLineAndChoices(){const t=this.getLine();let e=t.toString()+`
`;return t.getChoices(this).forEach((i,s)=>{e+=s+" "+i+`
`}),e}input(t){const e=this.getLine(),i=e.getChoices(this);if(i.length>0){t=t!=null?t:0;try{typeof t=="string"&&(t=parseInt(t)),this.setKey(i[t].key)}catch{this.setKey(i[0].key)}}else this.setKey(e.goto)}evalJavascript(t,e){return t?(e=e!=null?e:this.getLine(),this.context.local=e.context,Function(`"use strict"; const $g = this.global; const $l = this.local; return (${t})`).bind(this.context)()):void 0}setKey(t){this.key=t;const e=this.lines.get(this.key);if(!e)throw new Error(`Invalid key <${this.key}>.`);if(e.condition&&!this.evalJavascript(e.condition,e)){this.setKey(e.goto);return}this.evalJavascript(e.action,e),(0,p.isEmpty)(e.text)&&this.setKey(e.goto)}}J.Talk=q;(function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.Prat=void 0;const t=J;Object.defineProperty(o,"Prat",{enumerable:!0,get:function(){return t.Talk}})})(rt);const bt=`%{ For chat feature on magne.dev }

Hey, I'm Magne Tenstad \u{1F44B}
#{start}
What would you like to know?
	Work
		I currently work for Norsonic and NTNU. However, I am open to work this summer.
			Contact about work
				Send me an email at work@magne.dev
					Sure!
						>{start}
			Ok
				>{start}
	Hobbies
		#{hobbies}
		%{ I've always like to create things. Back in elementary school, I liked to draw and paint, both traditionally and digitally. In middle school, I was introduced to game programming, and in high school I started publishing games. Since then, I've had a growing interest for all kinds of software. }
		My main creative hobbies over the years, have been programming\u{1F4BB}, games\u{1F3AE}, and art\u{1F58C}\uFE0F.
			Software
				>{hobbies}
			Games
				>{hobbies}
			Art
				>{hobbies}
			Ok
				>{start}
	School
		I study Computer Science at NTNU in Trondheim.
			Ok
				>{start}
Thank you for your interest!
	Tell me more!
		>{start}
`;function _t(o){let t,e;return t=new vt({props:{imgSrc:kt,prat:o[0]}}),{c(){et(t.$$.fragment)},l(i){it(t.$$.fragment,i)},m(i,s){st(t,i,s),e=!0},p:ht,i(i){e||(D(t.$$.fragment,i),e=!0)},o(i){V(t.$$.fragment,i),e=!1},d(i){nt(t,i)}}}const kt="https://avatars.githubusercontent.com/u/46494695";function xt(o){return[rt.Prat.fromString(bt)]}class St extends Y{constructor(t){super(),Z(this,t,xt,_t,tt,{})}}export{St as default};
