import{S as X,i as Y,s as Z,l as b,a as M,m as w,p as I,h as p,c as K,r as rt,q as k,b as C,H as y,f as L,g as it,d as ot,t as T,P as q,o as lt,e as N,x as tt,y as et,z as st,A as nt,u as O,v as P,w as W,J as R,n as at}from"../../../chunks/index-538a8cf9.js";import{B as ct}from"../../../chunks/Button-a4be42cb.js";class B{constructor(t,e){this.incoming=t,this.text=e}}function G(i,t,e){const s=i.slice();return s[9]=t[e],s[11]=e,s}function J(i,t,e){const s=i.slice();return s[12]=t[e],s[11]=e,s}function ht(i){let t,e,s=i[12].text+"",n;return{c(){t=b("div"),e=b("p"),n=O(s),this.h()},l(r){t=w(r,"DIV",{class:!0});var o=I(t);e=w(o,"P",{class:!0});var l=I(e);n=P(l,s),l.forEach(p),o.forEach(p),this.h()},h(){k(e,"class","user svelte-1g03z8h"),k(t,"class","message message-right svelte-1g03z8h")},m(r,o){C(r,t,o),y(t,e),y(e,n)},p(r,o){o&2&&s!==(s=r[12].text+"")&&W(n,s)},d(r){r&&p(t)}}}function ut(i){var h;let t,e,s=i[12].text+"",n,r,o,l=!((h=i[1][i[11]+1])!=null&&h.incoming)&&U(i);return{c(){t=b("div"),e=b("p"),n=O(s),r=M(),l&&l.c(),o=N(),this.h()},l(u){t=w(u,"DIV",{class:!0});var _=I(t);e=w(_,"P",{class:!0});var v=I(e);n=P(v,s),v.forEach(p),_.forEach(p),r=K(u),l&&l.l(u),o=N(),this.h()},h(){k(e,"class","svelte-1g03z8h"),k(t,"class","message message-left svelte-1g03z8h")},m(u,_){C(u,t,_),y(t,e),y(e,n),C(u,r,_),l&&l.m(u,_),C(u,o,_)},p(u,_){var v;_&2&&s!==(s=u[12].text+"")&&W(n,s),(v=u[1][u[11]+1])!=null&&v.incoming?l&&(l.d(1),l=null):l?l.p(u,_):(l=U(u),l.c(),l.m(o.parentNode,o))},d(u){u&&p(t),u&&p(r),l&&l.d(u),u&&p(o)}}}function U(i){let t,e;return{c(){t=b("img"),this.h()},l(s){t=w(s,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){k(t,"class","message-img svelte-1g03z8h"),R(t.src,e=i[0])||k(t,"src",e),k(t,"alt","")},m(s,n){C(s,t,n)},p(s,n){n&1&&!R(t.src,e=s[0])&&k(t,"src",e)},d(s){s&&p(t)}}}function j(i){let t;function e(r,o){return r[12].incoming?ut:ht}let s=e(i),n=s(i);return{c(){n.c(),t=N()},l(r){n.l(r),t=N()},m(r,o){n.m(r,o),C(r,t,o)},p(r,o){s===(s=e(r))&&n?n.p(r,o):(n.d(1),n=s(r),n&&(n.c(),n.m(t.parentNode,t)))},d(r){n.d(r),r&&p(t)}}}function ft(i){let t=i[9].text+"",e;return{c(){e=O(t)},l(s){e=P(s,t)},m(s,n){C(s,e,n)},p(s,n){n&4&&t!==(t=s[9].text+"")&&W(e,t)},d(s){s&&p(e)}}}function F(i){let t,e;function s(){return i[5](i[11])}return t=new ct({props:{onClick:s,$$slots:{default:[ft]},$$scope:{ctx:i}}}),{c(){tt(t.$$.fragment)},l(n){et(t.$$.fragment,n)},m(n,r){st(t,n,r),e=!0},p(n,r){i=n;const o={};r&16388&&(o.$$scope={dirty:r,ctx:i}),t.$set(o)},i(n){e||(L(t.$$.fragment,n),e=!0)},o(n){T(t.$$.fragment,n),e=!1},d(n){nt(t,n)}}}function gt(i){let t,e,s,n,r,o,l,h,u,_,v=i[1],f=[];for(let c=0;c<v.length;c+=1)f[c]=j(J(i,v,c));let E=i[2],g=[];for(let c=0;c<E.length;c+=1)g[c]=F(G(i,E,c));const z=c=>T(g[c],1,1,()=>{g[c]=null});return{c(){t=b("div"),e=b("div"),s=b("div"),n=M(),r=b("div");for(let c=0;c<f.length;c+=1)f[c].c();o=M(),l=b("div"),h=M(),u=b("div");for(let c=0;c<g.length;c+=1)g[c].c();this.h()},l(c){t=w(c,"DIV",{class:!0});var m=I(t);e=w(m,"DIV",{class:!0});var a=I(e);s=w(a,"DIV",{style:!0}),I(s).forEach(p),n=K(a),r=w(a,"DIV",{class:!0});var x=I(r);for(let $=0;$<f.length;$+=1)f[$].l(x);o=K(x),l=w(x,"DIV",{id:!0,class:!0}),I(l).forEach(p),x.forEach(p),a.forEach(p),h=K(m),u=w(m,"DIV",{class:!0});var H=I(u);for(let $=0;$<g.length;$+=1)g[$].l(H);H.forEach(p),m.forEach(p),this.h()},h(){rt(s,"height","100vh"),k(l,"id","bottom"),k(l,"class","svelte-1g03z8h"),k(r,"class","messages-wrapper svelte-1g03z8h"),k(e,"class","scroll-wrapper svelte-1g03z8h"),k(u,"class","choices-wrapper svelte-1g03z8h"),k(t,"class","window svelte-1g03z8h")},m(c,m){C(c,t,m),y(t,e),y(e,s),y(e,n),y(e,r);for(let a=0;a<f.length;a+=1)f[a].m(r,null);y(r,o),y(r,l),y(t,h),y(t,u);for(let a=0;a<g.length;a+=1)g[a].m(u,null);_=!0},p(c,[m]){if(m&3){v=c[1];let a;for(a=0;a<v.length;a+=1){const x=J(c,v,a);f[a]?f[a].p(x,m):(f[a]=j(x),f[a].c(),f[a].m(r,o))}for(;a<f.length;a+=1)f[a].d(1);f.length=v.length}if(m&12){E=c[2];let a;for(a=0;a<E.length;a+=1){const x=G(c,E,a);g[a]?(g[a].p(x,m),L(g[a],1)):(g[a]=F(x),g[a].c(),L(g[a],1),g[a].m(u,null))}for(it(),a=E.length;a<g.length;a+=1)z(a);ot()}},i(c){if(!_){for(let m=0;m<E.length;m+=1)L(g[m]);_=!0}},o(c){g=g.filter(Boolean);for(let m=0;m<g.length;m+=1)T(g[m]);_=!1},d(c){c&&p(t),q(f,c),q(g,c)}}}function mt(i,t,e){let{imgSrc:s}=t,{prat:n}=t,r=[],o=[];const l=f=>{e(1,r=[...r,f])},h=()=>{for(e(2,o=n.getChoices());o.length===0;)n.input(""),l(new B(!0,n.getLine().text)),e(2,o=n.getChoices())},u=()=>setTimeout(()=>document.getElementById("bottom").scrollIntoView({block:"end",behavior:"smooth"}),100),_=f=>{n.input(f),l(new B(!1,n.getLine().text)),h(),u()};l(new B(!0,n.getLine().text)),h(),lt(()=>{u()});const v=f=>_(`${f}`);return i.$$set=f=>{"imgSrc"in f&&e(0,s=f.imgSrc),"prat"in f&&e(4,n=f.prat)},[s,r,o,_,n,v]}class dt extends X{constructor(t){super(),Y(this,t,mt,gt,Z,{imgSrc:0,prat:4})}}class d{}d.key="#";d.author="@";d.goto=">";d.condition="?";d.action="!";d.comment="%";d.left="{";d.right="}";const Q=(i,t)=>{let e=0;for(;i[e]==t;)e+=1;return e},_t=(i,t,e)=>{if(!i.includes(t)&&i.includes(e))return{extraction:"",rest:i};let s=i.indexOf(t)+t.length,n=-1,r=0;for(let l=s;l<i.length;l++){const h=i.substring(l);if(!r&&h.startsWith(e)){n=l;break}r+=h.startsWith(d.left)?1:0,r-=h.startsWith(d.right)?1:0}if(n===-1)return{extraction:"",rest:i};const o=i.substring(s,n);return{extraction:o,rest:i.replace(t+o+e,"")}},S=(i,t)=>_t(i,t+d.left,d.right),D=i=>S(i,d.key).extraction,V=i=>i==null||i.trim()==="";class pt{constructor(t,e,s,n,r,o,l,h){this.key=t,this.text=e,this.author=s,this.goto=n,this.choices=r,this.condition=o,this.action=l,this.comment=h}toString(){return this.author.length>0?this.author+": "+this.text:this.text}getChoices(t){return[...t.lines.values()].filter(e=>this.choices.includes(e.key))}}class A{constructor(t,e){this.lines=t,this.setKey(e),this.key=e}static fromString(t){t=t.replace(`\\
	`,`\\
`),t=t.replace(`\\
`,"");const e=t.split(`
`).filter(r=>!V(r));e.forEach((r,o)=>{if(V(D(r))){const l=d.key+d.left+d.key+o+d.right;e[o]=r+l}});const s=new Map;let n="";return e.forEach((r,o)=>{const l=[];let h;h=S(r,d.goto);let u=h.extraction;if(V(u)){const z=Q(r,"	");if(z%2==0){let c=z;for(let m=o+1;m<e.length;m++){const a=Q(e[m],"	");if(c=Math.min(a,c),a<=c){if(l.length>0)break;if(a%2==0){u=D(e[m]);break}}a==z+1&&z==c&&l.push(D(e[m]))}}else o+1<e.length&&(u=D(e[o+1]))}h=S(h.rest,d.key);const _=h.extraction;h=S(h.rest,d.author);const v=V(h.extraction)?n:h.extraction;h=S(h.rest,d.condition);const f=h.extraction;h=S(h.rest,d.action);const E=h.extraction;h=S(h.rest,d.comment);const g=h.extraction;s.set(_,new pt(_,h.rest.trim(),v,u,l,f,E,g)),n=v}),new A(s,D(e[0]))}getLine(){let t=this.lines.get(this.key);if(t==null)throw new Error(`Invalid key <${this.key}>.`);for(;V(t==null?void 0:t.text);)if(this.setKey(t.goto),t=this.lines.get(this.key),t==null)throw new Error(`Invalid key <${this.key}>.`);return t}getChoices(){return this.getLine().getChoices(this)}getLineAndChoices(){const t=this.getLine();let e=t.toString()+`
`;return t.getChoices(this).forEach((s,n)=>{e+=n+" "+s+`
`}),e}input(t){const e=this.lines.get(this.key);if(e==null)return"ERROR: Invalid key!";const s=e.getChoices(this);if(s.length>0)try{this.setKey(s[parseInt(t)].key)}catch{this.setKey(s[0].key)}else this.setKey(e.goto)}setKey(t){if(!this.lines.has(t))throw new Error("Key is not valid!");this.key=t}}const vt=`%{ For chat feature on magne.dev }

Hey, I'm Magne Tenstad \u{1F44B}
#{start}
What would you like to know?
	Work
		I currently work for Norsonic and NTNU. However, I am open to work this summer.
			Contact about work
				Send me an email at work@magne.dev
					Sure!
						>{start}
			Ok
				>{start}
	Hobbies
		#{hobbies}
		%{ I've always like to create things. Back in elementary school, I liked to draw and paint, both traditionally and digitally. In middle school, I was introduced to game programming, and in high school I started publishing games. Since then, I've had a growing interest for all kinds of software. }
		My main creative hobbies over the years, have been programming\u{1F4BB}, games\u{1F3AE}, and art\u{1F58C}\uFE0F.
			Software
				>{hobbies}
			Games
				>{hobbies}
			Art
				>{hobbies}
			Ok
				>{start}
	School
		I study Computer Science at NTNU in Trondheim.
			Ok
				>{start}
Thank you for your interest!
	Tell me more!
		>{start}
`;function kt(i){let t,e,s,n;return s=new dt({props:{imgSrc:yt,prat:i[0]}}),{c(){t=b("div"),e=b("div"),tt(s.$$.fragment),this.h()},l(r){t=w(r,"DIV",{class:!0});var o=I(t);e=w(o,"DIV",{class:!0});var l=I(e);et(s.$$.fragment,l),l.forEach(p),o.forEach(p),this.h()},h(){k(e,"class","body svelte-u48xk7"),k(t,"class","wrapper svelte-u48xk7")},m(r,o){C(r,t,o),y(t,e),st(s,e,null),n=!0},p:at,i(r){n||(L(s.$$.fragment,r),n=!0)},o(r){T(s.$$.fragment,r),n=!1},d(r){r&&p(t),nt(s)}}}const yt="https://avatars.githubusercontent.com/u/46494695";function bt(i){return[A.fromString(vt)]}class xt extends X{constructor(t){super(),Y(this,t,bt,kt,Z,{})}}export{xt as default};
