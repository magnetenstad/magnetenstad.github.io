import{S as X,i as Y,s as Z,l as b,a as V,m as w,p as I,h as p,c as L,q as k,b as E,H as y,f as M,g as it,d as rt,t as K,P as H,o as ot,e as T,x as tt,y as et,z as st,A as nt,u as B,v as O,w as P,J as R,n as lt}from"../../../chunks/index-538a8cf9.js";import{B as at}from"../../../chunks/Button-3d0313a1.js";class N{constructor(t,e){this.incoming=t,this.text=e}}function G(r,t,e){const i=r.slice();return i[9]=t[e],i[11]=e,i}function J(r,t,e){const i=r.slice();return i[12]=t[e],i[11]=e,i}function ct(r){let t,e,i=r[12].text+"",s;return{c(){t=b("div"),e=b("p"),s=B(i),this.h()},l(n){t=w(n,"DIV",{class:!0});var l=I(t);e=w(l,"P",{class:!0});var a=I(e);s=O(a,i),a.forEach(p),l.forEach(p),this.h()},h(){k(e,"class","user svelte-qzismn"),k(t,"class","message message-right svelte-qzismn")},m(n,l){E(n,t,l),y(t,e),y(e,s)},p(n,l){l&2&&i!==(i=n[12].text+"")&&P(s,i)},d(n){n&&p(t)}}}function ht(r){var h;let t,e,i=r[12].text+"",s,n,l,a=!((h=r[1][r[11]+1])!=null&&h.incoming)&&U(r);return{c(){t=b("div"),e=b("p"),s=B(i),n=V(),a&&a.c(),l=T(),this.h()},l(u){t=w(u,"DIV",{class:!0});var _=I(t);e=w(_,"P",{class:!0});var v=I(e);s=O(v,i),v.forEach(p),_.forEach(p),n=L(u),a&&a.l(u),l=T(),this.h()},h(){k(e,"class","svelte-qzismn"),k(t,"class","message message-left svelte-qzismn")},m(u,_){E(u,t,_),y(t,e),y(e,s),E(u,n,_),a&&a.m(u,_),E(u,l,_)},p(u,_){var v;_&2&&i!==(i=u[12].text+"")&&P(s,i),(v=u[1][u[11]+1])!=null&&v.incoming?a&&(a.d(1),a=null):a?a.p(u,_):(a=U(u),a.c(),a.m(l.parentNode,l))},d(u){u&&p(t),u&&p(n),a&&a.d(u),u&&p(l)}}}function U(r){let t,e;return{c(){t=b("img"),this.h()},l(i){t=w(i,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){k(t,"class","message-img svelte-qzismn"),R(t.src,e=r[0])||k(t,"src",e),k(t,"alt","")},m(i,s){E(i,t,s)},p(i,s){s&1&&!R(t.src,e=i[0])&&k(t,"src",e)},d(i){i&&p(t)}}}function j(r){let t;function e(n,l){return n[12].incoming?ht:ct}let i=e(r),s=i(r);return{c(){s.c(),t=T()},l(n){s.l(n),t=T()},m(n,l){s.m(n,l),E(n,t,l)},p(n,l){i===(i=e(n))&&s?s.p(n,l):(s.d(1),s=i(n),s&&(s.c(),s.m(t.parentNode,t)))},d(n){s.d(n),n&&p(t)}}}function ut(r){let t=r[9].text+"",e,i;return{c(){e=B(t),i=V()},l(s){e=O(s,t),i=L(s)},m(s,n){E(s,e,n),E(s,i,n)},p(s,n){n&4&&t!==(t=s[9].text+"")&&P(e,t)},d(s){s&&p(e),s&&p(i)}}}function F(r){let t,e;function i(){return r[5](r[11])}return t=new at({props:{onClick:i,style:"border: 2px solid white; font-weight: bold;",$$slots:{default:[ut]},$$scope:{ctx:r}}}),{c(){tt(t.$$.fragment)},l(s){et(t.$$.fragment,s)},m(s,n){st(t,s,n),e=!0},p(s,n){r=s;const l={};n&16388&&(l.$$scope={dirty:n,ctx:r}),t.$set(l)},i(s){e||(M(t.$$.fragment,s),e=!0)},o(s){K(t.$$.fragment,s),e=!1},d(s){nt(t,s)}}}function ft(r){let t,e,i,s,n,l,a,h,u,_,v=r[1],f=[];for(let c=0;c<v.length;c+=1)f[c]=j(J(r,v,c));let C=r[2],m=[];for(let c=0;c<C.length;c+=1)m[c]=F(G(r,C,c));const S=c=>K(m[c],1,1,()=>{m[c]=null});return{c(){t=b("div"),e=b("div"),i=b("div"),s=V(),n=b("div");for(let c=0;c<f.length;c+=1)f[c].c();l=V(),a=b("div"),h=V(),u=b("div");for(let c=0;c<m.length;c+=1)m[c].c();this.h()},l(c){t=w(c,"DIV",{class:!0});var d=I(t);e=w(d,"DIV",{class:!0});var o=I(e);i=w(o,"DIV",{class:!0}),I(i).forEach(p),s=L(o),n=w(o,"DIV",{class:!0});var x=I(n);for(let $=0;$<f.length;$+=1)f[$].l(x);l=L(x),a=w(x,"DIV",{id:!0,class:!0}),I(a).forEach(p),x.forEach(p),o.forEach(p),h=L(d),u=w(d,"DIV",{class:!0});var A=I(u);for(let $=0;$<m.length;$+=1)m[$].l(A);A.forEach(p),d.forEach(p),this.h()},h(){k(i,"class","scroll-padding-top svelte-qzismn"),k(a,"id","bottom"),k(a,"class","svelte-qzismn"),k(n,"class","messages-wrapper svelte-qzismn"),k(e,"class","scroll-wrapper svelte-qzismn"),k(u,"class","choices-wrapper svelte-qzismn"),k(t,"class","window svelte-qzismn")},m(c,d){E(c,t,d),y(t,e),y(e,i),y(e,s),y(e,n);for(let o=0;o<f.length;o+=1)f[o].m(n,null);y(n,l),y(n,a),y(t,h),y(t,u);for(let o=0;o<m.length;o+=1)m[o].m(u,null);_=!0},p(c,[d]){if(d&3){v=c[1];let o;for(o=0;o<v.length;o+=1){const x=J(c,v,o);f[o]?f[o].p(x,d):(f[o]=j(x),f[o].c(),f[o].m(n,l))}for(;o<f.length;o+=1)f[o].d(1);f.length=v.length}if(d&12){C=c[2];let o;for(o=0;o<C.length;o+=1){const x=G(c,C,o);m[o]?(m[o].p(x,d),M(m[o],1)):(m[o]=F(x),m[o].c(),M(m[o],1),m[o].m(u,null))}for(it(),o=C.length;o<m.length;o+=1)S(o);rt()}},i(c){if(!_){for(let d=0;d<C.length;d+=1)M(m[d]);_=!0}},o(c){m=m.filter(Boolean);for(let d=0;d<m.length;d+=1)K(m[d]);_=!1},d(c){c&&p(t),H(f,c),H(m,c)}}}function mt(r,t,e){let{imgSrc:i}=t,{prat:s}=t,n=[],l=[];const a=f=>{e(1,n=[...n,f])},h=()=>{for(e(2,l=s.getChoices());l.length===0;)s.input(""),a(new N(!0,s.getLine().text)),e(2,l=s.getChoices())},u=()=>setTimeout(()=>document.getElementById("bottom").scrollIntoView({block:"end",behavior:"smooth"}),100),_=f=>{s.input(f),a(new N(!1,s.getLine().text)),h(),u()};a(new N(!0,s.getLine().text)),h(),ot(()=>{u()});const v=f=>_(`${f}`);return r.$$set=f=>{"imgSrc"in f&&e(0,i=f.imgSrc),"prat"in f&&e(4,s=f.prat)},[i,n,l,_,s,v]}class dt extends X{constructor(t){super(),Y(this,t,mt,ft,Z,{imgSrc:0,prat:4})}}class g{}g.key="#";g.author="@";g.goto=">";g.condition="?";g.action="!";g.comment="%";g.left="{";g.right="}";const Q=(r,t)=>{let e=0;for(;r[e]==t;)e+=1;return e},gt=(r,t,e)=>{if(!r.includes(t)&&r.includes(e))return{extraction:"",rest:r};let i=r.indexOf(t)+t.length,s=-1,n=0;for(let a=i;a<r.length;a++){const h=r.substring(a);if(!n&&h.startsWith(e)){s=a;break}n+=h.startsWith(g.left)?1:0,n-=h.startsWith(g.right)?1:0}if(s===-1)return{extraction:"",rest:r};const l=r.substring(i,s);return{extraction:l,rest:r.replace(t+l+e,"")}},q=(r,t)=>gt(r,t+g.left,g.right),z=r=>q(r,g.key).extraction,D=r=>r==null||r.trim()==="";class _t{constructor(t,e,i,s,n,l,a,h){this.key=t,this.text=e,this.author=i,this.goto=s,this.choices=n,this.condition=l,this.action=a,this.comment=h}toString(){return this.author.length>0?this.author+": "+this.text:this.text}getChoices(t){return[...t.lines.values()].filter(e=>this.choices.includes(e.key))}}class W{constructor(t,e){this.lines=t,this.setKey(e),this.key=e}static fromString(t){t=t.replace(`\\
	`,`\\
`),t=t.replace(`\\
`,"");const e=t.split(`
`).filter(n=>!D(n));e.forEach((n,l)=>{if(D(z(n))){const a=g.key+g.left+g.key+l+g.right;e[l]=n+a}});const i=new Map;let s="";return e.forEach((n,l)=>{const a=[];let h;h=q(n,g.goto);let u=h.extraction;if(D(u)){const S=Q(n,"	");if(S%2==0){let c=S;for(let d=l+1;d<e.length;d++){const o=Q(e[d],"	");if(c=Math.min(o,c),o<=c){if(a.length>0)break;if(o%2==0){u=z(e[d]);break}}o==S+1&&S==c&&a.push(z(e[d]))}}else l+1<e.length&&(u=z(e[l+1]))}h=q(h.rest,g.key);const _=h.extraction;h=q(h.rest,g.author);const v=D(h.extraction)?s:h.extraction;h=q(h.rest,g.condition);const f=h.extraction;h=q(h.rest,g.action);const C=h.extraction;h=q(h.rest,g.comment);const m=h.extraction;i.set(_,new _t(_,h.rest.trim(),v,u,a,f,C,m)),s=v}),new W(i,z(e[0]))}getLine(){let t=this.lines.get(this.key);if(t==null)throw new Error(`Invalid key <${this.key}>.`);for(;D(t==null?void 0:t.text);)if(this.setKey(t.goto),t=this.lines.get(this.key),t==null)throw new Error(`Invalid key <${this.key}>.`);return t}getChoices(){return this.getLine().getChoices(this)}getLineAndChoices(){const t=this.getLine();let e=t.toString()+`
`;return t.getChoices(this).forEach((i,s)=>{e+=s+" "+i+`
`}),e}input(t){const e=this.lines.get(this.key);if(e==null)return"ERROR: Invalid key!";const i=e.getChoices(this);if(i.length>0)try{this.setKey(i[parseInt(t)].key)}catch{this.setKey(i[0].key)}else this.setKey(e.goto)}setKey(t){if(!this.lines.has(t))throw new Error("Key is not valid!");this.key=t}}const pt=`%{ For chat feature on magne.dev }

Hey, I'm Magne Tenstad \u{1F44B}
#{start}
What would you like to know?
	Work
		I currently work for Norsonic and NTNU. However, I am open to work this summer.
			Contact about work
				Send me an email at work@magne.dev
					Sure!
						>{start}
			Ok
				>{start}
	Hobbies
		#{hobbies}
		%{ I've always like to create things. Back in elementary school, I liked to draw and paint, both traditionally and digitally. In middle school, I was introduced to game programming, and in high school I started publishing games. Since then, I've had a growing interest for all kinds of software. }
		My main creative hobbies over the years, have been programming\u{1F4BB}, games\u{1F3AE}, and art\u{1F58C}\uFE0F.
			Software
				>{hobbies}
			Games
				>{hobbies}
			Art
				>{hobbies}
			Ok
				>{start}
	School
		I study Computer Science at NTNU in Trondheim.
			Ok
				>{start}
Thank you for your interest!
	Tell me more!
		>{start}
`;function vt(r){let t,e,i;return e=new dt({props:{imgSrc:kt,prat:r[0]}}),{c(){t=b("div"),tt(e.$$.fragment),this.h()},l(s){t=w(s,"DIV",{class:!0});var n=I(t);et(e.$$.fragment,n),n.forEach(p),this.h()},h(){k(t,"class","wrapper svelte-180eiks")},m(s,n){E(s,t,n),st(e,t,null),i=!0},p:lt,i(s){i||(M(e.$$.fragment,s),i=!0)},o(s){K(e.$$.fragment,s),i=!1},d(s){s&&p(t),nt(e)}}}const kt="https://avatars.githubusercontent.com/u/46494695";function yt(r){return[W.fromString(pt)]}class It extends X{constructor(t){super(),Y(this,t,yt,vt,Z,{})}}export{It as default};
